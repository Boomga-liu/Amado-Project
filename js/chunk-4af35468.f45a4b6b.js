(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af35468"],{"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePages(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePages(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePages(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},i=[],r={props:["pages"],methods:{changePages:function(t){this.$emit("emit-page",t)}}},n=r,c=(e("64cd"),e("2877")),o=Object(c["a"])(n,s,i,!1,null,null,null);a["a"]=o.exports},"64cd":function(t,a,e){"use strict";e("fc47")},"81b1":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"d-flex flex-column-reverse flex-md-row"},[e("div",{staticClass:"shop-sidebar-area"},[e("div",{staticClass:"shop-sidebar h-100"},[e("div",{staticClass:"shop-catagories"},[e("h6",[t._v("Catagories")]),e("ul",{staticClass:"list-unstyled"},[e("li",[e("a",{class:{active:"All"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("All")}}},[t._v("All")])]),e("li",[e("a",{class:{active:"Chairs"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Chairs")}}},[t._v("Chairs")])]),e("li",[e("a",{class:{active:"Beds"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Beds")}}},[t._v("Beds")])]),e("li",[e("a",{class:{active:"Pillows"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Pillows")}}},[t._v("Pillows")])]),e("li",[e("a",{class:{active:"Sofas"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Sofas")}}},[t._v("Sofas")])]),e("li",[e("a",{class:{active:"Home Deco"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Home Deco")}}},[t._v("Home Deco")])]),e("li",[e("a",{class:{active:"Tables"===t.isChoose},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changeTab("Tables")}}},[t._v("Tables")])])])])])]),e("div",{staticClass:"shop-products-area"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"search-area input-group mb-3"},[e("button",{staticClass:"btn input-group-prepend align-items-center",attrs:{type:"button"},on:{click:t.searchProduct}},[e("div",{staticClass:"search-img"})]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:[function(a){a.target.composing||(t.search=a.target.value.trim())},t.searchProduct],blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"row"},t._l(t.filterPage,(function(a){return e("div",{key:a.id,staticClass:"col-12 col-sm-6 col-md-12 col-xl-6 mt-5 shop-products",attrs:{"data-aos":"fade-up","data-aos-duration":"1000"}},[e("div",{staticClass:"card border-0"},[e("a",{attrs:{href:"#"}},[e("img",{staticClass:"card-img-top img-custom",staticStyle:{height:"465px"},attrs:{src:a.imageUrl,alt:"product_img"}}),e("div",{staticClass:"btn-bg",on:{click:function(e){return e.preventDefault(),t.getProductId(a.id)}}},[e("button",{staticClass:"btn btn-outline-primary btn-lg btn-custom",attrs:{type:"button"}},[t._v("More")])]),e("div",{staticClass:"new-icon"})]),e("div",{staticClass:"card-body d-flex justify-content-between"},[e("div",{staticClass:"card-price-name"},[e("div",{staticClass:"line"}),e("p",{staticClass:"price"},[t._v("NT "+t._s(t._f("currency")(a.price)))]),e("h6",{staticClass:"title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])])]),e("div",{staticClass:"cart-star-shopcart text-right"},[t._m(0,!0),e("div",{staticClass:"shopcart"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addToCart(a)}}},[e("div",{staticClass:"cart-icon"})])])])])])])})),0),(t.search||t.searchResult.length)&&0==t.searchResult.length?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"no-results-area"},[e("p",[t._v("No results related to '"+t._s(t.search)+"'")])])])]):t._e(),t.pagination.total_pages?e("Pagination",{staticClass:"mt-5",attrs:{pages:t.pagination},on:{"emit-page":t.getPage}}):t._e()],1)])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"star"},[e("i",{staticClass:"fa fa-star"}),e("i",{staticClass:"fa fa-star"}),e("i",{staticClass:"fa fa-star"}),e("i",{staticClass:"fa fa-star"}),e("i",{staticClass:"fa fa-star"})])}],r=(e("99af"),e("4de4"),e("841c"),e("ac1f"),e("159b"),e("a434"),e("b0c0"),e("1799")),n={name:"Products",data:function(){return{isChoose:"All",isLoading:!1,products:[],product:{id:""},pagination:{page_size:6,total_pages:1,current_page:1,has_pre:!1,has_next:!1},search:"",searchResult:[],data_length:"",page_size:"",now_page:"",cartData:JSON.parse(localStorage.getItem("cartData"))||[],cacheCarID:[],cartContent:{},cache:{},qty:0}},components:{Pagination:r["a"]},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("boomgaliu","/products/all");t.isLoading=!0,t.$http.get(a).then((function(a){a.data.success&&(t.products=a.data.products.filter((function(t){return 1===t.is_enabled}))),t.isLoading=!1,console.log(t.products)}))},getPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.pagination.current_page=t},getProductId:function(t){this.$router.push("product_detail/".concat(t))},changeTab:function(t){var a=this;a.isChoose=t,a.pagination.current_page=1},searchProduct:function(){var t=this;t.pagination.current_page=1,t.search?(t.isChoose=t.search,t.searchResult=t.products.filter((function(a){return a.category===t.search}))):t.searchResult=[]},addToCart:function(t){var a=this;this.cartData.forEach((function(t){a.cacheCarID.push(t.product_id)})),-1===this.cacheCarID.indexOf(t.id)?(this.cartContent={imageUrl:t.imageUrl,product_id:t.id,qty:1,name:t.title,origin_price:t.origin_price,price:t.price,unit:t.unit},this.cartData.push(this.cartContent),localStorage.setItem("cartData",JSON.stringify(this.cartData)),this.$bus.$emit("localStorage:get"),this.$bus.$emit("message:push","Add The Cart","success")):(this.cartData.forEach((function(e,s){e.product_id===t.id&&(a.qty=e.qty,a.cache={imageUrl:t.imageUrl,product_id:t.id,qty:a.qty+=1,name:t.title,origin_price:t.origin_price,price:t.price,unit:t.unit},a.cartData.splice(s,1))})),this.cartData.push(this.cache),localStorage.setItem("cartData",JSON.stringify(this.cartData)),this.$bus.$emit("message:push","Add the cart","success"))}},computed:{filterData:function(){var t=this;return t.search||t.searchResult.length?t.searchResult:"All"===t.isChoose?t.products:t.products.filter((function(a){return a.category===t.isChoose}))},filterPage:function(){var t=this;return t.data_length=t.filterData.length,t.page_size=t.pagination.page_size,t.pagination.total_pages=Math.ceil(t.data_length/t.page_size),t.now_page=t.pagination.current_page,t.now_page>1?t.pagination.has_pre=!0:t.pagination.has_pre=!1,t.now_page<t.pagination.total_pages?t.pagination.has_next=!0:t.pagination.has_next=!1,t.filterData.filter((function(a,e){return e<t.now_page*t.page_size&&e>=(t.now_page-1)*t.page_size}))}},created:function(){this.getProducts(),this.$bus.$emit("menu:active","PRODUCTS")},beforeRouteLeave:function(t,a,e){"ProductDetail"===t.name?(a.meta.keepAlive=!0,e()):(a.meta.keepAlive=!1,this.$destroy(),e())}},c=n,o=e("2877"),l=Object(o["a"])(c,s,i,!1,null,null,null);a["default"]=l.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var n=s(a);n in t?i.f(t,n,r(0,e)):t[n]=e}},"841c":function(t,a,e){"use strict";var s=e("d784"),i=e("825a"),r=e("1d80"),n=e("129f"),c=e("14c3");s("search",1,(function(t,a,e){return[function(a){var e=r(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,e):new RegExp(a)[t](String(e))},function(t){var s=e(a,t,this);if(s.done)return s.value;var r=i(t),o=String(this),l=r.lastIndex;n(l,0)||(r.lastIndex=0);var u=c(r,o);return n(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),n=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),h=e("b622"),p=e("2d00"),f=h("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",_=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=d("concat"),C=function(t){if(!n(t))return!1;var a=t[f];return void 0!==a?!!a:r(t)},b=!_||!m;s({target:"Array",proto:!0,forced:b},{concat:function(t){var a,e,s,i,r,n=c(this),d=u(n,0),h=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?n:arguments[a],C(r)){if(i=o(r.length),h+i>g)throw TypeError(v);for(e=0;e<i;e++,h++)e in r&&l(d,h,r[e])}else{if(h>=g)throw TypeError(v);l(d,h++,r)}return d.length=h,d}})},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),r=e("a691"),n=e("50c4"),c=e("7b0b"),o=e("65f0"),l=e("8418"),u=e("1dde"),d=u("splice"),h=Math.max,p=Math.min,f=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(t,a){var e,s,u,d,v,_,m=c(this),C=n(m.length),b=i(t,C),x=arguments.length;if(0===x?e=s=0:1===x?(e=0,s=C-b):(e=x-2,s=p(h(r(a),0),C-b)),C+e-s>f)throw TypeError(g);for(u=o(m,s),d=0;d<s;d++)v=b+d,v in m&&l(u,d,m[v]);if(u.length=s,e<s){for(d=b;d<C-s;d++)v=d+s,_=d+e,v in m?m[_]=m[v]:delete m[_];for(d=C;d>C-s+e;d--)delete m[d-1]}else if(e>s)for(d=C-s;d>b;d--)v=d+s-1,_=d+e-1,v in m?m[_]=m[v]:delete m[_];for(d=0;d<e;d++)m[d+b]=arguments[d+2];return m.length=C-s+e,u}})},b0c0:function(t,a,e){var s=e("83ab"),i=e("9bf2").f,r=Function.prototype,n=r.toString,c=/^\s*function ([^ (]*)/,o="name";s&&!(o in r)&&i(r,o,{configurable:!0,get:function(){try{return n.call(this).match(c)[1]}catch(t){return""}}})},fc47:function(t,a,e){}}]);
//# sourceMappingURL=chunk-4af35468.f45a4b6b.js.map